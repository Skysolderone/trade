package main

import (
	"flag"
	"fmt"

	"trade/db"
	"trade/web"
)

func main() {
	// å®šä¹‰å‘½ä»¤è¡Œå‚æ•°
	port := flag.Int("port", 8080, "WebæœåŠ¡å™¨ç«¯å£")
	flag.Parse()

	// åˆå§‹åŒ–æ•°æ®åº“è¿æ¥
	db.InitPostgreSql()

	fmt.Println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
	fmt.Println("â•‘          äº¤æ˜“ç­–ç•¥åˆ†æ - WebæœåŠ¡å™¨                              â•‘")
	fmt.Println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
	fmt.Printf("\n")
	fmt.Printf("ğŸŒ è®¿é—®åœ°å€: http://localhost:%d\n", *port)
	fmt.Printf("ğŸ“Š æŸ¥çœ‹ç­–ç•¥ä¸€: http://localhost:%d/api/strategy1\n", *port)
	fmt.Printf("ğŸ• æŸ¥çœ‹ç­–ç•¥äºŒ: http://localhost:%d/api/strategy2\n", *port)
	fmt.Printf("\n")
	fmt.Println("æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨")
	fmt.Println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")

	// å¯åŠ¨WebæœåŠ¡å™¨
	web.StartServer(*port)
}
